<ion-content class="ion-padding">
  <div class="login-container">
    <!-- Logo y título -->
    <div class="header-section">
      <ion-avatar class="logo-avatar">
        <img src="assets/icon/BANK.jpg" alt="Bank Logo" />
      </ion-avatar>
      <h1 class="app-title">Banca en Línea</h1>
      <p class="app-subtitle">Ingrese a su cuenta</p>
    </div>

    <!-- Formulario de Login -->
    <form class="login-form" [formGroup]="loginForm" (ngSubmit)="onSubmit()">

      <!-- Email -->
      <ion-item lines="none" class="input-item">
        <ion-icon name="mail-outline" slot="start" style="color: #1a4d8f; font-size: 1.5rem;"></ion-icon>
        <ion-input
          type="email"
          formControlName="email"
          placeholder="Correo electrónico"
          [clearInput]="true">
        </ion-input>
      </ion-item>
      @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
        <div class="error-message">
          <ion-text>
            <small>Ingrese un correo válido</small>
          </ion-text>
        </div>
      }

      <!-- Password -->
      <ion-item lines="none" class="input-item">
        <ion-icon name="lock-closed-outline" slot="start" style="color: #1a4d8f; font-size: 1.5rem;"></ion-icon>
        <ion-input
          [type]="showPassword() ? 'text' : 'password'"
          formControlName="password"
          placeholder="Contraseña">
        </ion-input>
        <ion-icon
          slot="end"
          [name]="showPassword() ? 'eye-off-outline' : 'eye-outline'"
          (click)="togglePassword()"
          style="cursor: pointer; color: #1a4d8f; font-size: 1.5rem;">
        </ion-icon>
      </ion-item>
      @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
        <div class="error-message">
          <ion-text>
            <small>La contraseña es requerida</small>
          </ion-text>
        </div>
      }

      <!-- Login Button -->
      <ion-button
        expand="block"
        type="submit"
        class="login-button"
        [disabled]="loginForm.invalid || isLoading()">
        @if (isLoading()) {
          <ion-spinner name="crescent"></ion-spinner>
        } @else {
          <span>Iniciar Sesión</span>
        }
      </ion-button>
    </form>

    <!-- Footer -->
    <div class="footer-section">
      <ion-text color="light">
        <small>© 2025 Banca en Línea. Todos los derechos reservados.</small>
      </ion-text>
    </div>
  </div>
</ion-content>
